# Лабораторная работа 23: Работа с файлами и массивами

## Описание работы программы

Приложение предназначено для создания, анализа и сохранения одномерных и двумерных массивов с возможностью работы с файлами. Реализовано 20 различных заданий: 10 для одномерных массивов и 10 для двумерных.

## Структура приложения

Приложение использует TabControl с двумя вкладками:
1. **Одномерные массивы** - работа с одномерными массивами
2. **Двумерные массивы** - работа с матрицами

## Вкладка "Одномерные массивы"

### Компоненты

- **txtN** - TextBox для ввода размера массива
- **btnGenerate1D** - кнопка генерации массива
- **grpTask1D** - GroupBox с 10 радиокнопками для выбора задания
- **lstArray** - ListBox для отображения элементов массива
- **btnAnalyze1D** - кнопка выполнения задания
- **txtResults1D** - TextBox для вывода результатов
- **btnSave1D, btnLoad1D, btnClear1D** - кнопки работы с файлами

### Реализованные задания (1D)

**Task1D_1** - Количество отрицательных, положительных и среднее арифметическое

**Task1D_2** - Разделение на два массива по четным/нечетным индексам с вычислением сумм

**Task1D_3** - Среднее арифметическое первого отрицательного и последнего положительного

**Task1D_4** - Количество отрицательных элементов перед наибольшим положительным

**Task1D_5** - Обмен первого и последнего положительных элементов

**Task1D_6** - Сумма и среднее для массива из 10 элементов

**Task1D_7** - Сумма положительных элементов (массив из 20 элементов)

**Task1D_8** - Сумма четных элементов (массив из 20 элементов)

**Task1D_9** - Количество положительных элементов (массив из 20 элементов)

**Task1D_10** - Индексы положительных элементов (массив из 20 элементов)

### Сохранение/загрузка 1D массивов

Формат файла:
```
размер
элемент_0
элемент_1
...
```

## Вкладка "Двумерные массивы"

### Компоненты

- **txtRows, txtCols** - TextBox для ввода количества строк и столбцов
- **btnGenerate2D** - кнопка генерации матрицы
- **grpTask2D** - GroupBox с 10 радиокнопками для выбора задания
- **dgvMatrix** - DataGridView для отображения матрицы
- **btnAnalyze2D** - кнопка выполнения задания
- **txtResults2D** - TextBox для вывода результатов
- **btnSave2D, btnLoad2D, btnClear2D** - кнопки работы с файлами

### Реализованные задания (2D)

**Task2D_1** - Сумма элементов в каждом столбце
```
Проходит по каждому столбцу j от 0 до cols
Для каждого столбца суммирует элементы matrix[i,j] где i от 0 до rows
```

**Task2D_2** - Произведение элементов в каждом столбце
```
Использует long для избежания переполнения
Вычисляет product *= matrix[i,j] для каждого столбца
```

**Task2D_3** - Произведение элементов в каждой строке
```
Для каждой строки i вычисляет произведение всех matrix[i,j]
Использует long для больших значений
```

**Task2D_4** - Произведение диагональных элементов
```
minSize = Math.Min(rows, cols)
Перемножает элементы matrix[i,i] где i от 0 до minSize
```

**Task2D_5** - Сумма элементов на побочной диагонали
```
minSize = Math.Min(rows, cols)
Суммирует matrix[i, cols-1-i] где i от 0 до minSize
```

**Task2D_6** - Столбец с наименьшим количеством положительных элементов
```
Для каждого столбца подсчитывает положительные элементы
Находит столбец с минимальным count
```

**Task2D_7** - Строка с наименьшим количеством положительных элементов
```
Для каждой строки подсчитывает положительные элементы
Находит строку с минимальным count
```

**Task2D_8** - Строка с наибольшим количеством четных элементов
```
Подсчитывает элементы где matrix[i,j] % 2 == 0
Находит строку с максимальным count
```

**Task2D_9** - Столбец с наибольшим количеством элементов кратных 5
```
Проверяет matrix[i,j] % 5 == 0 && matrix[i,j] != 0
Находит столбец с максимальным count
```

**Task2D_10** - Наименьшее четное число в матрице
```
Проходит по всем элементам
Находит минимальное среди четных (num % 2 == 0)
```

### Сохранение/загрузка 2D массивов

Формат файла:
```
rows cols
элемент[0,0] элемент[0,1] ... элемент[0,cols-1]
элемент[1,0] элемент[1,1] ... элемент[1,cols-1]
...
```

Элементы в строке разделены пробелами.

## Основные методы

### btnGenerate1D_Click
Генерирует одномерный массив случайных чисел от -100 до 100

### btnGenerate2D_Click
Генерирует двумерный массив (матрицу) и отображает в DataGridView
Создает столбцы dgvMatrix.Columns.Add() и заполняет ячейки

### btnSave1D_Click / btnSave2D_Click
Сохранение в текстовый файл через StreamWriter
1D: каждый элемент на новой строке
2D: элементы строки через пробел

### btnLoad1D_Click / btnLoad2D_Click
Загрузка из файла через StreamReader
Проверка формата и корректности данных
Заполнение ListBox или DataGridView

## Особенности реализации

1. TabControl разделяет интерфейс на две независимые части
2. DataGridView динамически создает столбцы при генерации матрицы
3. Валидация входных данных перед каждой операцией
4. Использование long для произведений во избежание переполнения
5. Обработка исключений при работе с файлами
6. Разные диапазоны случайных чисел согласно заданиям
7. Форматирование вывода с двумя знаками после запятой
