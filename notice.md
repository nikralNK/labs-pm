# Лабораторная работа 21 - Работа с массивом и ListBox

**Выполнил:** студент группы ИСПП-242 Кузнецова В. Б.

## Описание задачи

Создано приложение для работы с массивом целых чисел с использованием компонента ListBox. Программа генерирует массив случайных чисел и выполняет различные операции над ним.

## Элементы интерфейса

### Поля ввода
- `txtN` - поле для ввода размера массива (от 1 до 100)
- `txtResult` - поле для отображения результата (только чтение)

### Кнопки
- `btnGenerate` - генерация массива случайных чисел
- `btnCalculate` - выполнение выбранной операции
- `btnClear` - очистка всех полей и массива

### ListBox
- `lstArray` - список для отображения элементов массива

### RadioButton (выбор операции)
- `rbCountNegative` - подсчет количества отрицательных элементов
- `rbSumNegative` - вычисление суммы отрицательных элементов
- `rbMinDivisible5` - поиск минимального элемента, кратного 5

## Свойства формы

- `FormBorderStyle = FixedSingle` - окно нельзя изменить в размере
- `MaximizeBox = false` - кнопка развернуть на весь экран недоступна
- `StartPosition = CenterScreen` - форма загружается по центру экрана
- `Text = "Работа с массивом - Студент ИСПП-242"` - заголовок формы

## Работа с массивом

### Переменная array
```csharp
private int[] array;
```
Хранит сгенерированный массив целых чисел.

### Генерация массива (btnGenerate_Click)

**Проверка ввода:**
1. Проверяется, что поле txtN не пустое
2. Проверяется, что введенное значение - число
3. Проверяется диапазон: от 1 до 100

**Процесс генерации:**
1. Создается новый массив размером N
2. Очищается ListBox
3. Очищается поле результата
4. Генерируются случайные числа от -50 до 50
5. Каждый элемент добавляется в массив и отображается в ListBox

```csharp
Random random = new Random();
for (int i = 0; i < n; i++)
{
    array[i] = random.Next(-50, 51);
    lstArray.Items.Add(array[i].ToString());
}
```

## Операции над массивом

### 1. Подсчет отрицательных элементов

Проходит по всем элементам массива и подсчитывает количество элементов меньше нуля:

```csharp
int count = 0;
for (int i = 0; i < array.Length; i++)
{
    if (array[i] < 0)
    {
        count++;
    }
}
```

### 2. Сумма отрицательных элементов

Проходит по всем элементам и суммирует отрицательные:

```csharp
int sum = 0;
for (int i = 0; i < array.Length; i++)
{
    if (array[i] < 0)
    {
        sum += array[i];
    }
}
```

### 3. Минимальный элемент, кратный 5

Ищет среди элементов, кратных 5 (array[i] % 5 == 0), минимальный:

```csharp
int? min = null;
for (int i = 0; i < array.Length; i++)
{
    if (array[i] % 5 == 0)
    {
        if (min == null || array[i] < min)
        {
            min = array[i];
        }
    }
}
```

Используется nullable тип `int?` для определения, найден ли хотя бы один элемент.

## Работа с ListBox

### Добавление элементов
```csharp
lstArray.Items.Add(array[i].ToString());
```
Метод `Items.Add()` добавляет элемент в конец списка.

### Очистка списка
```csharp
lstArray.Items.Clear();
```
Метод `Clear()` удаляет все элементы из ListBox.

### Свойства ListBox
- `FormattingEnabled = true` - включает форматирование
- `ItemHeight = 15` - высота одного элемента в пикселях
- `Size = new Size(200, 289)` - размер компонента

## Валидация данных

### Проверка перед генерацией
1. Поле не должно быть пустым
2. Значение должно быть числом (int.TryParse)
3. Значение должно быть в диапазоне [1, 100]

### Проверка перед вычислением
Перед выполнением операции проверяется, что массив создан:
```csharp
if (array == null || array.Length == 0)
{
    MessageBox.Show("Сначала сгенерируйте массив");
    return;
}
```

## Кнопка "Очистить"

Очищает все данные:
- Удаляет элементы из ListBox
- Очищает поле результата
- Очищает поле размера массива
- Обнуляет массив (array = null)

## Выбор операции

Используется GroupBox с тремя RadioButton. По умолчанию выбрана первая операция (`rbCountNegative.Checked = true`).

При нажатии кнопки "Вычислить" проверяется, какая RadioButton выбрана, и выполняется соответствующая операция.

## Особенности реализации

- Все циклы используют классический `for` с индексом
- Проверка кратности 5 выполняется через остаток от деления (`% 5 == 0`)
- Для операций с отрицательными числами используется условие `< 0`
- Результат выводится в текстовое поле с пояснением
